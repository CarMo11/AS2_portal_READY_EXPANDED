<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="google-site-verification" content="google9038f401d045ca32" />
  <title>Dartturnier AS2 Hochberg (Remseck am Neckar) – Anmeldung 24.10.2025</title>
  <meta name="description" content="Dartturnier im AS2 in Hochberg (Remseck/Neckarrems): 2er-Teams, 501 Double Out, Start 19:30. Anmeldung & Vorkasse online. AS2 Hochberg, Baden-Württemberg." />
  <meta name="keywords" content="Dartturnier, Darts, AS2 Hochberg, AS2 in Hochberg, Ristorante Adler, Adler Hochberg, Remseck, Neckarrems, Ludwigsburg, Baden-Württemberg, 501 Double Out, Dart Turnier" />
  
  <!-- Open Graph / Social Media -->
  <meta property="og:title" content="AS2 Hochberg – Dartturnier (2er-Teams) 24.10.2025" />
  <meta property="og:description" content="Dartturnier in Remseck/Neckarrems. Anmeldung & Vorkasse online." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://as2-dartturnier-hochberg.netlify.app" />
  <meta property="og:image" content="https://as2-dartturnier-hochberg.netlify.app/og-image.jpg" />
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>🎯</text></svg>" />
  
  <!-- Strukturierte Daten für Google Events -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "SportsEvent",
    "name": "AS2 Hochberg – Dartturnier (2er-Teams)",
    "startDate": "2025-10-24T19:30:00+02:00",
    "endDate": "2025-10-24T23:59:00+02:00",
    "eventAttendanceMode": "https://schema.org/OfflineEventAttendanceMode",
    "eventStatus": "https://schema.org/EventScheduled",
    "description": "Dartturnier in Remseck am Neckar / Neckarrems im AS2 (am Ristorante Adler): 2er-Teams, 501 Double Out, Vorrunde & Hauptrunde. Anmeldung online, Vorkasse bevorzugt.",
    "keywords": "Dartturnier, Darts, Remseck, Neckarrems, Hochberg, Ludwigsburg, Baden-Württemberg, 501 Double Out",
    "location": {
      "@type": "BarOrPub",
      "name": "AS2 Hochberg",
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "Am Schloß 2",
        "addressLocality": "Remseck am Neckar",
        "postalCode": "71686",
        "addressRegion": "BW",
        "addressCountry": "DE"
      }
    },
    "offers": {
      "@type": "Offer",
      "price": "30",
      "priceCurrency": "EUR",
      "url": "https://as2-dartturnier-hochberg.netlify.app"
    },
    "organizer": { "@type": "SportsOrganization", "name": "AS2 Hochberg" }
  }
  </script>
  
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="hero">
    <div class="wrap">
      <div class="social-icons">
        <a href="https://www.instagram.com/as_2_cafe_bar_lounge" target="_blank" rel="noopener" title="AS2 auf Instagram" aria-label="AS2 auf Instagram">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zM12 0C8.741 0 8.333.014 7.053.072 2.695.272.273 2.69.073 7.052.014 8.333 0 8.741 0 12c0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98C8.333 23.986 8.741 24 12 24c3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98C15.668.014 15.259 0 12 0zm0 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zM12 16a4 4 0 110-8 4 4 0 010 8zm6.406-11.845a1.44 1.44 0 100 2.881 1.44 1.44 0 000-2.881z" fill="currentColor"/>
          </svg>
        </a>
        <a href="https://www.facebook.com/p/AS-2-Cafė-Bar-Lounge-100063753361517/" target="_blank" rel="noopener" title="AS2 auf Facebook" aria-label="AS2 auf Facebook">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z" fill="currentColor"/>
          </svg>
        </a>
      </div>
      <h1>AS2 Hochberg Dartturnier</h1>
      <p class="sub">📅 Fr., 24.10.2025 · 19:30 Uhr · 📍 Remseck (Hochberg)</p>
      <p class="pill">💰 30€ / Team · Max. 10 Teams · 🎯 501 DO</p>
      <div class="cta">
        <a href="https://docs.google.com/forms/d/e/1FAIpQLSfz45P5c-TW1vVuA8W1kA570_jy0pWzqZzySURgHNgpEso-NA/viewform?usp=dialog" target="_blank" rel="noopener" class="btn">Jetzt anmelden</a>
        <a href="monitor.html" class="btn" style="background:linear-gradient(90deg,var(--brand),var(--brand2));border-color:var(--brand2)">🎯 Live-Scoring</a>
        <a href="#status" class="btn ghost">Live-Status</a>
        <a href="dartturnier.ics" download class="btn ghost small">📅 Kalender</a>
      </div>
    </div>
  </header>

  <main class="wrap">
    
<section id="quick-info" class="compact-grid">
  <div class="info-card">
    <h3>📍 Veranstaltungsort</h3>
    <p><strong>AS2 Hochberg</strong> (am Ristorante Adler)<br>
    Am Schloß 2, 71686 Remseck<br>
    📞 <a href="tel:+4917056631794" class="phone-link">0170 563 1794</a></p>
  </div>
  <div class="info-card">
    <h3>🎯 Format</h3>
    <p><strong>2er-Teams, 501 DO</strong><br>
    Vorrunde: 4 Läufe → Seeding<br>
    Hauptrunde: Round Robin Bo3<br>
    Finale: Triple-Shootout</p>
  </div>
  <div class="info-card">
    <h3>💰 Preisgeld</h3>
    <p><strong>25€ × Teams</strong><br>
    40% Vorrunde<br>
    60% Hauptrunde<br>
    Winner-takes-all je Gruppe<br>
    (ab 4er Gruppe 2 Gewinner)</p>
  </div>
  <div class="info-card">
    <h3>🍺 Side-Bets</h3>
    <p>🍺 Pitcher: High Finish ≥100, Leg ≤6, Bullseye finish<br>
    🥃 180 = Shotrunde<br>
    🐟🍺 Big Fish 170 = Freibier!</p>
  </div>
</section>

    <section id="anmeldung-map-combo">
      <div class="combo-layout">
        <div class="combo-main">
          <h2>Anmeldung & Zahlung</h2>
          <div style="display:flex;gap:12px;flex-wrap:wrap;margin-bottom:16px">
            <a class="btn" href="https://docs.google.com/forms/d/e/1FAIpQLSfz45P5c-TW1vVuA8W1kA570_jy0pWzqZzySURgHNgpEso-NA/viewform?usp=dialog" target="_blank" rel="noopener">📝 Anmelden (30€)</a>
            <a class="btn accent" href="https://paypal.me/AS2Hochberg?country.x=DE&locale.x=de_DE" target="_blank" rel="noopener">💳 PayPal zahlen</a>
          </div>
          <p><strong>💡 Vorkasse bevorzugt</strong> – bezahlte Anmeldungen haben Vorrang. Zahlung vor Ort am Freitag möglich. Bar-Zahlung vorab auch im <strong>Ristorante Adler</strong> möglich!</p>
        </div>
        <div class="combo-map">
          <iframe src="https://www.google.com/maps?q=Am+Schloß+2,+71686+Remseck+am+Neckar&output=embed" width="100%" height="100%" class="map-embed" loading="lazy" allowfullscreen title="Karte AS2 Hochberg"></iframe>
        </div>
      </div>
    </section>

    <section id="solo-info" style="margin:24px 0;padding:20px;border:2px solid #ffa665;border-radius:12px;background:rgba(255,166,101,.05)">
      <h2 style="margin:0 0 12px;color:#ffa665">🎯 Kein Partner? Einzelspieler willkommen!</h2>
      <p style="margin:0 0 12px;line-height:1.6">
        Du hast noch keinen Partner? <strong>Kein Problem!</strong> Melde dich als <strong>Einzelspieler</strong> an (15€ statt 30€).
        Über unser <a href="#matchboard" style="color:#ffa665;font-weight:700;text-decoration:none">Matchboard ↓</a> kannst du andere Einzelspieler finden – oder wir losen vor Ort fair.
      </p>
      <div style="background:rgba(255,255,255,.05);padding:12px;border-radius:8px;margin:12px 0">
        <h3 style="margin:0 0 8px;font-size:1rem;color:#ffa665">📝 So funktioniert's:</h3>
        <ol style="margin:0;padding-left:20px;line-height:1.7">
          <li><strong>Formular ausfüllen</strong> → "Einzelspieler" auswählen</li>
          <li><strong>"Matchboard anzeigen: Ja"</strong> wählen → Dein Name erscheint unten im Matchboard</li>
          <li><strong>Partner finden</strong> → Kontakt aufnehmen über WhatsApp/Instagram</li>
          <li><strong>Team anmelden</strong> → Zusammen als Team (30€) anmelden</li>
        </ol>
      </div>
      <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:16px">
        <a href="https://docs.google.com/forms/d/e/1FAIpQLSfz45P5c-TW1vVuA8W1kA570_jy0pWzqZzySURgHNgpEso-NA/viewform?usp=dialog" target="_blank" rel="noopener" class="btn small" style="background:#ffa665;border-color:#ffa665">Als Einzelspieler anmelden (15€)</a>
        <a href="#matchboard" class="btn small ghost">Zum Matchboard ↓</a>
      </div>
      <p style="margin:12px 0 0;font-size:0.9em;color:#aab4c6">
        <strong>💡 Tipp:</strong> Je früher du dich anmeldest, desto mehr Einzelspieler siehst du im Matchboard!
      </p>
    </section>

    <section id="status" class="live-wrap">
      <h2>Live-Anmeldestand</h2>
      <p style="text-align:center;margin:8px 0 16px">
        <a href="monitor.html" class="btn small accent" style="display:inline-block">🎯 Zum Live-Scoring Monitor (Tabellen, Spiele, Boards)</a>
      </p>

      <div class="live-cards">
        <div class="card">
          <div class="card-label">Anmeldestand</div>
          <div id="liveCount" class="card-value">–</div>
        </div>
        <div class="card">
          <div class="card-label">Freie Plätze</div>
          <div id="liveFree" class="card-value">–</div>
        </div>
        <div class="card">
          <div class="card-label">Offene Anmeldungen</div>
          <div id="liveOpen" class="card-value">–</div>
        </div>
      </div>

      <div class="live-cols">
        <div>
          <h3>Bezahlt</h3>
          <ul id="paidList" class="live-list"></ul>
        </div>
        <div>
          <h3>Offen</h3>
          <ul id="openList" class="live-list"></ul>
        </div>
      </div>
    </section>

    <section id="matchboard">
      <h2>🎯 Matchboard: Einzelspieler suchen Partner</h2>
      <ul id="singleList" style="list-style:none;padding:0;margin:12px 0"><li class="loading-text">Lade Matchboard-Daten...</li></ul>
      <p style="margin-top:12px;font-size:0.95em;color:#aab4c6">
        <strong>Team gefunden?</strong> Meldet euch als <strong>Team</strong> an – wir setzen eure Single-Einträge auf „gepaart".
      </p>
    </section>

<section id="rules">
  <details class="rules-accordion">
    <summary><h3 style="display:inline;margin:0">📋 Regeln & Spielweise</h3></summary>
    <div class="rules-content">
      <h4>Vorrunde (Skill-Phase)</h4>
      <ul>
        <li><strong>Format:</strong> 4× 501 DO pro Team, abwechselnd auf einen gemeinsamen Score.</li>
        <li><strong>Wertung:</strong> Runden bis Checkout (weniger = besser)</li>
        <li><strong>Tie-Break:</strong> Schnellstes Leg → Höchster Checkout → Playoff</li>
      </ul>

      <h4>Hauptrunde & Finale</h4>
      <ul>
        <li><strong>Seeding:</strong> Gruppe A (Top) + Gruppe B (untere Hälfte)</li>
        <li><strong>Format:</strong> Round Robin, Best of 3, 501 DO</li>
        <li><strong>Wertung:</strong> Siege → Leg-Differenz → Legs+</li>
        <li><strong>Gruppen-Finale:</strong> Triple-Shootout (Bo3, First to Two), Winner-takes-all</li>
      </ul>

      <p><small>Ab 18 · Fairplay · Turnierleitung entscheidet final</small></p>
    </div>
  </details>
</section>

  </main>

  <footer class="foot">
    <div class="wrap">
      <p>© AS2 Hochberg · Ab 18 · Fairplay · Turnierleitung entscheidet final</p>
    </div>
  </footer>

  <script>
    // Live-Anmeldestand
    (() => {
      const CSV_URL = "https://docs.google.com/spreadsheets/d/11qd00fEEVDIWbXl8Rx6A0vvCD8WHK2FiiXVqaxtuKDk/gviz/tq?tqx=out:csv&gid=0";
      
      const elCount = document.getElementById('liveCount');
      const elFree  = document.getElementById('liveFree');
      const elOpen  = document.getElementById('liveOpen');
      const paidUL  = document.getElementById('paidList');
      const openUL  = document.getElementById('openList');

      function parseCSV(text){
        const rows = [];
        let row = [], val = '', inQuotes = false;
        for (let i=0;i<text.length;i++){
          const c = text[i], n = text[i+1];
          if (c === '"' && n === '"'){ val += '"'; i++; continue; }
          if (c === '"'){ inQuotes = !inQuotes; continue; }
          if (c === ',' && !inQuotes){ row.push(val); val=''; continue; }
          if ((c === '\n' || c === '\r') && !inQuotes){
            if (val !== '' || row.length){ row.push(val); rows.push(row); row=[]; val=''; }
            continue;
          }
          val += c;
        }
        if (val !== '' || row.length) { row.push(val); rows.push(row); }
        return rows.map(r => r.map(x => x.trim()));
      }

      function renderRows(rows){
        // Teams aus Spalte B (Index 1) lesen - Google Forms Standard
        const paidTeams = [];
        const openTeams = [];
        
        // Header ist immer Zeile 0, Teams ab Zeile 1
        // Spalte B (Index 1) = Teamname, Spalte P (Index 15) = Status
        for (let i = 1; i < rows.length; i++){
          const teamName = (rows[i][1] || '').trim(); // Spalte B
          const status = (rows[i][15] || '').toLowerCase().trim(); // Spalte P = Status
          
          if (teamName && teamName.length > 2) {
            if (status === 'bezahlt') {
              paidTeams.push(teamName);
            } else if (status === 'offen' || status === '') {
              // Status "offen" oder leer → Offene Anmeldungen
              openTeams.push(teamName);
            }
          }
        }
        
        // Stats aktualisieren
        const totalCount = paidTeams.length + openTeams.length;
        const maxTeams = 10; // Maximale Teamanzahl
        const free = Math.max(0, maxTeams - totalCount);
        
        elCount.textContent = paidTeams.length; // Nur bezahlte Teams zählen
        elFree.textContent = free;
        elOpen.textContent = openTeams.length;
        
        // Bezahlte Teams anzeigen
        paidUL.innerHTML = '';
        if (paidTeams.length === 0) {
          paidUL.innerHTML = '<li>Noch keine bezahlten Anmeldungen</li>';
        } else {
          paidTeams.forEach(team => {
            const li = document.createElement('li');
            li.textContent = team;
            paidUL.appendChild(li);
          });
        }
        
        // Offene Anmeldungen anzeigen
        openUL.innerHTML = '';
        if (openTeams.length === 0) {
          openUL.innerHTML = '<li>Keine offenen Anmeldungen</li>';
        } else {
          openTeams.forEach(team => {
            const li = document.createElement('li');
            li.textContent = team;
            openUL.appendChild(li);
          });
        }
      }

      async function loadLive(){
        try{
          const res = await fetch(CSV_URL + '&_=' + Date.now());
          const txt = await res.text();
          const rows = parseCSV(txt);
          if (!rows || !rows.length) throw new Error('CSV leer');
          renderRows(rows);
        }catch(err){
          console.error('Live-CSV Fehler:', err);
          elCount.textContent = '–';
          elFree.textContent  = '–';
          elOpen.textContent  = '–';
          paidUL.innerHTML = '<li>keine Daten</li>';
          openUL.innerHTML = '';
        }
      }

      loadLive();
      setInterval(loadLive, 30000);
    })();

    // Matchboard - LIVE Teams Tab (filtert nur Einzelspieler mit Matchboard=Ja)
    const MATCHBOARD_CSV_URL = "https://docs.google.com/spreadsheets/d/11qd00fEEVDIWbXl8Rx6A0vvCD8WHK2FiiXVqaxtuKDk/gviz/tq?tqx=out:csv&gid=0";

    function parseCSV(text) {
      const rows = [];
      let row = [], val = '', inQuotes = false;
      for (let i=0;i<text.length;i++){
        const c = text[i], n = text[i+1];
        if (c === '"' && n === '"'){ val += '"'; i++; continue; }
        if (c === '"'){ inQuotes = !inQuotes; continue; }
        if (c === ',' && !inQuotes){ row.push(val); val=''; continue; }
        if ((c === '\n' || c === '\r') && !inQuotes){
          if (val !== '' || row.length){ row.push(val); rows.push(row); row=[]; val=''; }
          continue;
        }
        val += c;
      }
      if (val !== '' || row.length) { row.push(val); rows.push(row); }
      return rows.map(r => r.map(x => x.trim()));
    }

    function waLink(raw) {
      const d = (raw || "").replace(/\D+/g, "");
      if (!d) return null;
      const intl = d.startsWith("0") ? "49" + d.slice(1) : d;
      return "https://wa.me/" + intl + "?text=" + encodeURIComponent("Hey! AS2-Dartturnier – Bock auf Team?");
    }

    function contactHref(contact) {
      const v = (contact || "").trim();
      if (!v) return null;
      // Instagram erkennen
      if (/instagram\.com|^@|^ig:/i.test(v)) {
        const handle = v.replace(/^ig:\s*/i, "").replace(/^@/, "").trim();
        return "https://instagram.com/" + handle;
      }
      // E-Mail
      if (/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v)) return "mailto:" + v;
      // WhatsApp/Telefon
      if (/\d{6,}/.test(v)) return waLink(v);
      return null;
    }

    function maskContact(contact) {
      const v = (contact || "").trim();
      if (/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v)) return v; // E-Mail voll zeigen
      if (/instagram\.com|^@|^ig:/i.test(v)) return v.replace(/^ig:\s*/i, ""); // IG-Handle
      const d = v.replace(/\D+/g, "");
      return d.length >= 7 ? d.slice(0, 3) + "•••" + d.slice(-2) : v; // Telefon maskieren
    }

    async function loadMatchboard() {
      if (!MATCHBOARD_CSV_URL) return;
      try {
        const res = await fetch(MATCHBOARD_CSV_URL, { cache: "no-store" });
        if (!res.ok) throw new Error('Fetch failed');
        const txt = await res.text();
        const rows = parseCSV(txt);
        if (!rows.length) throw new Error('No data');
        
        const ul = document.getElementById("singleList");
        if (!ul) return; // Element existiert nicht mehr
        
        ul.innerHTML = "";
        
        // Filtere nur Einzelspieler mit Matchboard=Ja
        // Spalten: [0]=Zeit, [6]="Anmeldung als", [7]=Vorname, [8]=Kontakt, [9]=Skill, [11]=Matchboard
        const singles = rows.slice(1).filter(row => {
          const anmeldungAls = (row[6] || '').toLowerCase().trim();
          const matchboard = (row[11] || '').toLowerCase().trim();
          return anmeldungAls.includes('einzel') && matchboard.includes('ja');
        });
        
        if (!singles.length) {
          ul.innerHTML = "<li class='loading-text'>Aktuell keine Einzelspieler im Matchboard.</li>";
          return;
        }

        singles.forEach(row => {
          const name = (row[7] || '').trim(); // Vorname (Einzelspieler)
          const contact = (row[8] || '').trim(); // Kontakt
          const skill = (row[9] || '').trim(); // Skill
          
          if (!name) return; // Kein Name = überspringen
          
          const href = contactHref(contact);
          const shown = maskContact(contact);
          const li = document.createElement("li");
          li.style.cssText = "padding:10px;margin:8px 0;background:rgba(255,255,255,.04);border-radius:8px;border-left:3px solid #ffa665";
          
          if (href) {
            li.innerHTML = `<a href="${href}" target="_blank" rel="noopener" style="color:#ffa665;text-decoration:none"><strong>🎯 ${name}</strong></a>${skill ? " · " + skill : ""} ${shown ? `<span style="color:#999">(${shown})</span>` : ""}`;
          } else {
            li.innerHTML = `<strong style="color:#ffa665">🎯 ${name}</strong>${skill ? " · " + skill : ""} ${shown ? `<span style="color:#999">(${shown})</span>` : ""}`;
          }
          ul.appendChild(li);
        });
      } catch (err) {
        console.error('Matchboard Load Error:', err);
        const ul = document.getElementById("singleList");
        if (ul) ul.innerHTML = "<li class='loading-text'>Matchboard konnte nicht geladen werden</li>";
      }
    }

    loadMatchboard();
    setInterval(loadMatchboard, 30000);
  </script>
</body>
</html>
